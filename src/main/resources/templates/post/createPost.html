<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>새 게시물 만들기</title>
  <link rel="stylesheet" href="/css/post/createPost.css">
  <script src="/js/post/createPost.js" defer></script>
</head>
<body>
<button onclick="openModal()">새 게시물 만들기</button> <!-- 새 게시물 만들기 모달 열기 버튼 -->

<div class="modal" id="postModal">
  <div class="modal-content">
    <button class="close-btn" onclick="closeModal()">&times;</button> <!-- 모달 닫기 버튼 -->
    <div class="header">새 게시물 만들기</div>
    <form id="postForm" class="content" enctype="multipart/form-data" method="post">
      <div class="left-content" id="leftContent">
        <div id="imagePreviewContainer">
          <img id="imagePreview" src="/image/post/photo.jpg">
        </div>
        <p id="dragDropText">사진과 동영상을 여기에 끌어다 놓으세요</p>
        <input type="file" id="images" name="images" accept="image/*" multiple
               onchange="previewImages(event)" style="display: none;"> <!-- 이미지 파일 선택 입력 -->
        <button type="button" class="share-button" id="shareButton"
                onclick="document.getElementById('images').click()">이미지 선택
        </button>
        <button class="nav-button prev" id="prevButton" style="display: none;"
                onclick="prevImage(event)">&#10094;
        </button>
        <button class="nav-button next" id="nextButton" style="display: none;"
                onclick="nextImage(event)">&#10095;
        </button>
      </div>
      <div class="right-content">
        <div>
          <div class="profile">
            <img src="/image/post/profile-placeholder.jpg" alt="프로필 이미지"><!--수정~~!-->
            <span>happy</span>
          </div>
          <textarea id="content" name="content" class="post-textarea" rows="10"
                    placeholder="내용을 입력하세요" maxlength="2200" required
                    oninput="updateCharCount()"></textarea>
          <div class="char-count" id="charCount">0 / 2200</div>
          <hr>
          <input type="text" id="tags" name="tags" class="post-textarea" placeholder="태그"
                 maxlength="10">
          <hr>
          <div class="toggle">
            <label for="hideLikes">이 게시물의 좋아요 수 및 조회수 숨기기</label>
            <label class="switch">
              <input type="checkbox" name="hideLikes" id="hideLikes">
              <span class="slider"></span>
            </label>
          </div>
          <hr>
          <div class="toggle">
            <label for="disableComments">댓글 기능 해제</label>
            <label class="switch">
              <input type="checkbox" name="disableComments" id="disableComments">
              <span class="slider"></span>
            </label>
          </div>
        </div>
        <hr>
        <div class="options">
          <a href="javascript:void(0);" onclick="openDraftModal()">임시 저장 글 불러오기</a>
          <a href="javascript:void(0);" onclick="saveAsTemp(event)">임시저장</a>
          <a href="javascript:void(0);" onclick="submitPost(event)">공유하기</a>
        </div>
      </div>
    </form>
    <div class="complete" id="complete-container">
      <img src="/image/post/complete.jpg">
      <p>게시물 등록이 완료되었습니다!</p>
    </div>
  </div>
</div>

<div class="draft-modal" id="draftModal">
  <div class="draft-modal-content">
    <button class="close-btn" onclick="closeDraftModal()">&times;</button>
    <div class="header">임시 저장</div>
    <div class="temp-posts" id="tempPostsContainer"></div>
  </div>
</div>

</body>
</html>
